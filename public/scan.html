<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scan</title>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery.maskedinput/1.3.1/jquery.maskedinput.min.js'> </script>
</head>
<body>
  <form action="/scanner/start" method="post" id="scanform">
    <input type="text" id="bussiness_name" name="name" placeholder="Business name" class="action_input_1"/>
    <input type="text" id="bussiness_number" name="phone" placeholder="Business telephone number" class="action_input_1"/>
    <input type="text" id="zip" name="zip" placeholder="Zip" />
    <br />
    <input type="text" id="email" name="email" placeholder="Email" class="action_input_1"/>
    <input type="text" id="referrer_code" name="referrer_code" placeholder="Referral Code" class="action_input_1"/>
    <br />
    <input type="hidden" id="package_id" name="package_id" value="1" />
    <input type="submit" class="scan_now" value="Scan Now" />
  </form>
  <script type="text/javascript">
 jQuery(function($){
   $("#bussiness_number").mask("9999999999");
   $("#zip").mask("99999");
  }); 
    
    var urlParams;
  (window.onpopstate = function () {
      var match,
          pl     = /\+/g,  // Regex for replacing addition symbol with a space
          search = /([^&=]+)=?([^&]*)/g,
          decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
          query  = window.location.search.substring(1);

      urlParams = {};
      while (match = search.exec(query))
         urlParams[decode(match[1])] = decode(match[2]);
      document.getElementById('package_id').value = urlParams['package_id'];
  })();
  </script>
  
</body>
</html>
